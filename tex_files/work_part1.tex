\hypertarget{ux432ux432ux435ux434ux435ux43dux438ux435}{%
\section{Введение}\label{ux432ux432ux435ux434ux435ux43dux438ux435}}

\hypertarget{ux43eux441ux43dux43eux432ux43dux430ux44f-ux447ux430ux441ux442ux44c}{%
\section{Основная
часть}\label{ux43eux441ux43dux43eux432ux43dux430ux44f-ux447ux430ux441ux442ux44c}}

\hypertarget{ux43eux43fux438ux441ux430ux43dux438ux435-ux43fux440ux435ux434ux43cux435ux442ux43dux43eux439-ux43eux431ux43bux430ux441ux442ux438-ux430ux43dux430ux43bux438ux437-ux438-ux432ux44bux431ux43eux440-ux43cux435ux442ux43eux434ux43eux432-ux440ux435ux448ux435ux43dux438ux44f-ux437ux430ux434ux430ux447}{%
\subsection{Описание предметной области, анализ и выбор методов решения
задач}\label{ux43eux43fux438ux441ux430ux43dux438ux435-ux43fux440ux435ux434ux43cux435ux442ux43dux43eux439-ux43eux431ux43bux430ux441ux442ux438-ux430ux43dux430ux43bux438ux437-ux438-ux432ux44bux431ux43eux440-ux43cux435ux442ux43eux434ux43eux432-ux440ux435ux448ux435ux43dux438ux44f-ux437ux430ux434ux430ux447}}

\hypertarget{ux43fux440ux43eux435ux43aux442ux438ux440ux43eux432ux430ux43dux438ux435-ux430ux43fux43fux430ux440ux430ux442ux43dux43eux433ux43e-ux43eux431ux435ux441ux43fux435ux447ux435ux43dux438ux44f}{%
\subsection{Проектирование аппаратного
обеспечения}\label{ux43fux440ux43eux435ux43aux442ux438ux440ux43eux432ux430ux43dux438ux435-ux430ux43fux43fux430ux440ux430ux442ux43dux43eux433ux43e-ux43eux431ux435ux441ux43fux435ux447ux435ux43dux438ux44f}}

\hypertarget{ux440ux430ux437ux440ux430ux431ux43eux442ux43aux430-ux43fux440ux438ux43dux446ux438ux43fux438ux430ux43bux44cux43dux43eux439-ux441ux445ux435ux43cux44b}{%
\subsubsection{Разработка принципиальной
схемы}\label{ux440ux430ux437ux440ux430ux431ux43eux442ux43aux430-ux43fux440ux438ux43dux446ux438ux43fux438ux430ux43bux44cux43dux43eux439-ux441ux445ux435ux43cux44b}}

\hypertarget{ux440ux430ux437ux440ux430ux431ux43eux442ux43aux430-ux43fux435ux447ux430ux442ux43dux43eux439-ux43fux43bux430ux442ux44b}{%
\subsubsection{Разработка печатной
платы}\label{ux440ux430ux437ux440ux430ux431ux43eux442ux43aux430-ux43fux435ux447ux430ux442ux43dux43eux439-ux43fux43bux430ux442ux44b}}

\hypertarget{ux43fux440ux43eux435ux43aux442ux438ux440ux43eux432ux430ux43dux438ux435-ux43fux440ux43eux433ux440ux430ux43cux43cux43dux43eux433ux43e-ux43eux431ux435ux441ux43fux435ux447ux435ux43dux438ux44f}{%
\subsection{Проектирование программного
обеспечения}\label{ux43fux440ux43eux435ux43aux442ux438ux440ux43eux432ux430ux43dux438ux435-ux43fux440ux43eux433ux440ux430ux43cux43cux43dux43eux433ux43e-ux43eux431ux435ux441ux43fux435ux447ux435ux43dux438ux44f}}

\hypertarget{ux440ux430ux437ux440ux430ux431ux43eux442ux43aux430-ux43cux435ux442ux43eux434ux43eux432-ux440ux435ux448ux435ux43dux438ux44f-ux437ux430ux434ux430ux447}{%
\subsubsection{Разработка методов решения
задач}\label{ux440ux430ux437ux440ux430ux431ux43eux442ux43aux430-ux43cux435ux442ux43eux434ux43eux432-ux440ux435ux448ux435ux43dux438ux44f-ux437ux430ux434ux430ux447}}

\hypertarget{ux440ux430ux437ux440ux430ux431ux43eux442ux43aux430-ux438-ux43eux43fux438ux441ux430ux43dux438ux435-ux430ux43bux433ux43eux440ux438ux442ux43cux43eux432}{%
\subsubsection{Разработка и описание
алгоритмов}\label{ux440ux430ux437ux440ux430ux431ux43eux442ux43aux430-ux438-ux43eux43fux438ux441ux430ux43dux438ux435-ux430ux43bux433ux43eux440ux438ux442ux43cux43eux432}}

\hypertarget{ux440ux430ux437ux440ux430ux431ux43eux442ux43aux430-ux441ux442ux440ux443ux43aux442ux443ux440-ux434ux430ux43dux43dux44bux445}{%
\subsubsection{Разработка структур
данных}\label{ux440ux430ux437ux440ux430ux431ux43eux442ux43aux430-ux441ux442ux440ux443ux43aux442ux443ux440-ux434ux430ux43dux43dux44bux445}}

\hypertarget{ux43fux440ux43eux433ux440ux430ux43cux43cux43dux430ux44f-ux440ux435ux430ux43bux438ux437ux430ux446ux438ux44f}{%
\subsection{Программная
реализация}\label{ux43fux440ux43eux433ux440ux430ux43cux43cux43dux430ux44f-ux440ux435ux430ux43bux438ux437ux430ux446ux438ux44f}}

\hypertarget{ux43eux43fux438ux441ux430ux43dux438ux435-ux43cux43eux434ux443ux43bux44cux43dux43eux439-ux441ux442ux440ux443ux43aux442ux443ux440ux44b-ux43fux440ux43eux433ux440ux430ux43cux43cux44b}{%
\subsubsection{Описание модульной структуры
программы}\label{ux43eux43fux438ux441ux430ux43dux438ux435-ux43cux43eux434ux443ux43bux44cux43dux43eux439-ux441ux442ux440ux443ux43aux442ux443ux440ux44b-ux43fux440ux43eux433ux440ux430ux43cux43cux44b}}

\hypertarget{ux441ux43fux435ux446ux438ux444ux438ux43aux430ux446ux438ux438-ux43fux43eux434ux43fux440ux43eux433ux440ux430ux43cux43c-ux43cux435ux442ux43eux434ux43eux432}{%
\subsubsection{Спецификации подпрограмм
(методов)}\label{ux441ux43fux435ux446ux438ux444ux438ux43aux430ux446ux438ux438-ux43fux43eux434ux43fux440ux43eux433ux440ux430ux43cux43c-ux43cux435ux442ux43eux434ux43eux432}}

\hypertarget{ux43eux43fux438ux441ux430ux43dux438ux435-ux438ux441ux43fux43eux43bux44cux437ux43eux432ux430ux43dux43dux44bux445-ux432ux43dux435ux448ux43dux438ux445-ux43aux43eux43cux43fux43eux43dux435ux43dux442-ux438-ux431ux438ux431ux43bux438ux43eux442ux435ux43a}{%
\subsubsection{Описание использованных внешних компонент и
библиотек}\label{ux43eux43fux438ux441ux430ux43dux438ux435-ux438ux441ux43fux43eux43bux44cux437ux43eux432ux430ux43dux43dux44bux445-ux432ux43dux435ux448ux43dux438ux445-ux43aux43eux43cux43fux43eux43dux435ux43dux442-ux438-ux431ux438ux431ux43bux438ux43eux442ux435ux43a}}

Использование внешних компонентов

\textbf{Реализация семейства функции printf без зависимостей от
stdlib.h}

Для генерации символьных сообщений протокола MQTT удобно использовать
функцию \emph{sprintf}, из семейства функций \emph{print formatted},
позволяющая выводить строки содержащие значения различных типов. В
случае функции sprintf, она позволяет выводить в отформатированную
функцию в переменную строки а не потоки ввода-вывода, в отличии от
других функций семейства. Но функции входящие в стандартную библиотеку
языка Си, не подходят для использования в встраиваемых система из-за
ряда особенностей.

Во первых стандартная реализация функций \emph{printf} имеет ряд
зависимостей из стандартной библиотеки языка Си, которые после
компиляции занимают значительный объем в флеш памяти микроконтроллера
(около 32 Кб).

Во вторых стандартная реализация \emph{printf} использует динамическое
выделение памяти, что не рекомендовано стандартами и руководствами
разработки программно-аппаратных комплексом высокой надежности и
ответственности (IEC 61508, MISRA C).

Для решения этой проблемы была использована сторонняя реализация функций
семейства printf (ссылка на репозиторий) для языка Си, разработанная
специально для использования в встраиваемых системах.

Данная реализация имеет совместимость с реализацией из стандартной
библиотеки, но занимает значительно меньший объем в флеш памяти
микроконтроллера (14 Кб против 32 Кб).

Так же реализация не использует динамическое выделение памяти для работы
функций, что соответствует мировым стандартам разработки встраиваемых
систем, а так же исправляет некоторые особенности стандартной реализации
функций семейств \emph{printf}, связанных с потоко-безопасностью.

Библиотека с сторонней реализацией распространяется с открытой лицензией
MIT, что позволяет использовать данную реализацию в любых коммерческих и
не коммерческих разработках.

\hypertarget{ux440ux443ux43aux43eux432ux43eux434ux441ux442ux432ux43e-ux43fux43eux43bux44cux437ux43eux432ux430ux442ux435ux43bux44f}{%
\subsubsection{Руководство
пользователя}\label{ux440ux443ux43aux43eux432ux43eux434ux441ux442ux432ux43e-ux43fux43eux43bux44cux437ux43eux432ux430ux442ux435ux43bux44f}}

\hypertarget{ux442ux435ux441ux442ux438ux440ux43eux432ux430ux43dux438ux435-ux438-ux44dux43aux441ux43fux435ux440ux438ux43cux435ux43dux442ux430ux43bux44cux43dux430ux44f-ux43fux440ux43eux432ux435ux440ux43aux430-ux43fux440ux43eux433ux440ux430ux43cux43cux43dux43eux433ux43e-ux430ux43fux43fux430ux440ux430ux442ux43dux43eux433ux43e-ux43aux43eux43cux43fux43bux435ux43aux441ux430}{%
\subsubsection{Тестирование и экспериментальная проверка
программного-аппаратного
комплекса}\label{ux442ux435ux441ux442ux438ux440ux43eux432ux430ux43dux438ux435-ux438-ux44dux43aux441ux43fux435ux440ux438ux43cux435ux43dux442ux430ux43bux44cux43dux430ux44f-ux43fux440ux43eux432ux435ux440ux43aux430-ux43fux440ux43eux433ux440ux430ux43cux43cux43dux43eux433ux43e-ux430ux43fux43fux430ux440ux430ux442ux43dux43eux433ux43e-ux43aux43eux43cux43fux43bux435ux43aux441ux430}}

\hypertarget{ux43eux446ux435ux43dux43aux430-ux43aux430ux447ux435ux441ux442ux432ux430-ux440ux430ux437ux440ux430ux431ux43eux442ux430ux43dux43dux43eux433ux43e-ux43aux43eux43cux43fux43bux435ux43aux441ux430}{%
\subsubsection{Оценка качества разработанного
комплекса}\label{ux43eux446ux435ux43dux43aux430-ux43aux430ux447ux435ux441ux442ux432ux430-ux440ux430ux437ux440ux430ux431ux43eux442ux430ux43dux43dux43eux433ux43e-ux43aux43eux43cux43fux43bux435ux43aux441ux430}}

\hypertarget{ux437ux430ux43aux43bux44eux447ux435ux43dux438ux435}{%
\section{Заключение}\label{ux437ux430ux43aux43bux44eux447ux435ux43dux438ux435}}

\hypertarget{ux441ux43fux438ux441ux43eux43a-ux43bux438ux442ux435ux440ux430ux442ux443ux440ux44b}{%
\section{Список
литературы}\label{ux441ux43fux438ux441ux43eux43a-ux43bux438ux442ux435ux440ux430ux442ux443ux440ux44b}}
